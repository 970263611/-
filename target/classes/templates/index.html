<!DOCTYPE HTML>
<!--
	Justice by gettemplates.co
	Twitter: http://twitter.com/gettemplateco
	URL: #
-->
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>大花的博客-首页</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="DaHua's Blog，Welcome to see!" />
	<meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
	<meta name="author" content="GetTemplates.co" />

  	<!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">

	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">

	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	
		<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Stellar -->
	<script src="js/jquery.stellar.min.js"></script>
	<!-- Main -->
	<script src="js/main.js"></script>
	
	<!-- 引入layer -->
	<link rel="stylesheet" href="layer/layer.css">
	<script src="layer/layer.js"></script>
	
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->
	<style type="text/css">
	.btn-default
    {
   		color: #333;
	    background-color: rgba(245, 245, 245, 0.39);
	    border-color: rgba(204, 204, 204, 0);
	}
	#gtco-post-list li 
	{
        min-height: auto;
	}
	.gtco-cover.gtco-cover-sm 
	{
    	height: 600px;
    	background-position:0px!important;
	}
	.btn
	{
		font-size: 1px;
	}
	@media screen and (max-width: 768px)
	{
		.gtco-cover.gtco-cover-sm 
		{
	    	height: 500px;
		}
		#font_height
		{
			height: 600px;
		}
		.entry.full .entry-desc 
		{
	    	background: #fcf8e3;
	    }
	    #gtco-post-list li.one-third 
	    {
	    	background: #fcf8e3;
		}
	}
	</style>
	</head>
	<body>
		
	<div class="gtco-loader"></div>
	
	<div id="page">
	<nav class="gtco-nav" role="navigation">
		<div class="container">
			<div class="row">
				<div class="col-lg-2 text-left">
					<div id="gtco-logo"><a href="index.html">大花的博客<span>.</span></a></div>
				</div>
				<div class="col-xs-10 text-right menu-1">
					<ul>
						<li th:switch="${session.user}">
							<a th:case=null></a>
							<a th:case=* th:if="${session.user.rowId} == 1" href="admin">进入后台管理页面</a>
						</li>
						<li class="has-dropdown" style="display:inline-block;">
							<a>提笔</a>
							<ul class="dropdown" style="width:100px;">
								<li><a href="/write?type=1">技术交流</a></li>
								<li><a href="/write?type=2">我的困惑</a></li>
								<li><a href="/write?type=3">谈谈生活</a></li>
							</ul>
						</li>

						<li><a href="myworld">个人</a></li>
						<li><a href="javascript:scroll(0,0)" onclick="words_block()">留言</a></li>
						<li th:switch="${session.user}">
							<a th:case=null href="login">登录</a>
							<a th:case=* th:text='${session.user.nickname}' class="dropdown" href="javascript:void(0);" onclick="loginOut()">登录</a>
						</li>
					</ul>
				</div>
			</div>
			
		</div>
	</nav>

	<header id="gtco-header" class="gtco-cover gtco-cover-sm" role="banner" style="background-image:url(images/image_1.jpg);" data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div class="row">
				<div class="col-md-7 text-left">
					<div class="display-t">
						<div id="font_height" class="display-tc animate-box" data-animate-effect="fadeInUp">
							<span class="date-post"></span>
							<h1 class="mb30"><a href="#">世上无难事</a></h1><br>
							<h1 class="mb30"><a href="#">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp只要肯攀登</a></h1><br>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>
	
	<div id="gtco-main">
		<div class="container">
			<div class="row row-pb-md">
				<div class="col-md-12">
					<ul id="gtco-post-list">
						<li class="entry animate-box" data-animate-effect="fadeIn" style="background: rgba(91, 169, 66, 0.27);"> 
							<a href="single.html"  target="_blank" th:href="@{/single(id=${a_one.id})}">
								<div class="entry-desc">
									<h3 th:text="${a_one.title}">How Web Hosting Can Impact Page Load Speed</h3>
									<p th:text="${a_one.lead}">She packed her seven versalia, put her initial into the belt and made herself on the way. When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, tsingleen she continued her way.</p>
								</div>
							</a>
							<div class="post-meta">
								 <span class="date-posted" th:onclick="'go_people('+${a_one.id}+');'" th:text=${a_one.create_user}>作者</span>
							  	 <span class="date-posted" th:text=${a_one.create_time}>时间</span>
							</div>
						</li>

						<li class="entry animate-box" data-animate-effect="fadeIn" style="background: rgba(91, 169, 66, 0.27);"> 
							<a href="single.html" target="_blank" th:href="@{/single(id=${a_two.id})}">
								<div class="entry-desc">
									<h3 th:text="${a_two.title}">How Web Hosting Can Impact Page Load Speed</h3>
									<p th:text="${a_two.lead}">She packed her seven versalia, put her initial into the belt and made herself on the way. When she reached the first hills of the Italic Mountains, she had a last view back on the skyline of her hometown Bookmarksgrove, the headline of Alphabet Village and the subline of her own road, the Line Lane. Pityful a rethoric question ran over her cheek, tsingleen she continued her way.</p>
								</div>
							</a>
							<div class="post-meta">
								 <span class="date-posted" th:onclick="'go_people('+${a_two.id}+');'" th:text=${a_two.create_user}>作者</span>
							  	 <span class="date-posted" th:text=${a_two.create_time}>时间</span>
							  	 <span class="date-posted" style="float:right">点击查看全文</span>
							</div>
						</li>
						
						<li th:each="alist: ${list}" class="entry animate-box" data-animate-effect="fadeIn">
							<a href="single.html" target="_blank" th:href="@{/single(id=${alist.id})}">
								<div class="entry-desc">
									<h3 th:text="${alist.title}">title</h3>
									<p  th:text="${alist.lead}">lead</p>
								</div>
							</a>
							<div class="post-meta">
								 <span class="date-posted" th:onclick="'go_people('+${alist.id}+');'" th:text=${alist.create_user}>作者</span>
							  	 <span class="date-posted" th:text=${alist.create_time}>时间</span>
							  	 <span class="date-posted" style="float:right">点击查看全文</span>
							</div>
						</li>
					</ul>	
				</div>
			</div>
			<div id="go_any_page" style="text-align: center">
			</div>
		</div>
	</div>


	<!-- 模态框 -->
	<div class="modal fade" id="Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="exampleModalLabel">编辑我的留言</h4>
	      </div>
	      <div class="modal-body">
	        <form>
	          <div class="form-group">
	            <label for="message-text" class="control-label">留言信息:</label>
	            <textarea class="form-control" id="message"></textarea>
	          </div>
	        </form>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
	        <button type="button" class="btn btn-primary" id='send_word' onclick="submmit_words()">留言</button>
	      </div>
	    </div>
	  </div>
	</div>

	
	<footer id="gtco-footer" role="contentinfo">
		<div class="container">
			<div class="row row-pb-md">
				<div class="col-md-12">
					<h3 class="footer-heading">特别致谢</h3>
				</div>
				<div class="col-md-4">
					<div class="post-entry">
						<div class="post-img">
							<a><img src="images/lwt.jpg" class="img-responsive" alt="DaHua's Blog，Welcome to see!"></a>
						</div>
						<div class="post-copy">
							<h4><a>特别致谢李伟涛哥对我的帮助</a></h4>
							<a class="post-meta"><span class="date-posted">2017-08-29</span></a>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="post-entry">
						<div class="post-img">
							<a><img src="images/wxm.jpg" class="img-responsive" alt="DaHua's Blog，Welcome to see!"></a>
						</div>
						<div class="post-copy">
							<h4><a>特别致谢武小默哥对我的帮助</a></h4>
							<a class="post-meta"><span class="date-posted">2017-08-29</span></a>
						</div>
					</div>
				</div>
				<div class="col-md-4">
					<div class="post-entry">
						<div class="post-img">
							<a><img src="images/jds.jpg" class="img-responsive" alt="DaHua's Blog，Welcome to see!"></a>
						</div>
						<div class="post-copy">
							<h4><a>特别感谢姜东升同学对我的帮助</a></h4>
							<a class="post-meta"><span class="date-posted">2017-08-29</span></a>
						</div>
					</div>
				</div>
			</div>

			<div class="row copyright">
				<div class="col-md-12 text-center">
					<p>
						<small class="block">&copy; e-mail address <a target="_blank">love_dingwq@163.com</a>. Website all information from <a target="_blank" title="大花">大花的博客v2.0</a> - All Rights Reserved <a target="_blank">版权所有</a></small> <br>
					</p>
					<div class="bshare-custom"><a title="分享到QQ好友" class="bshare-qqim"></a><a title="分享到微信" class="bshare-weixin"></a><a title="分享到QQ空间" class="bshare-qzone"></a><a title="分享到新浪微博" class="bshare-sinaminiblog"></a><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/button.js#style=-1&amp;uuid=&amp;pophcol=3&amp;lang=zh"></script><a class="bshareDiv" onclick="javascript:return false;"></a><script type="text/javascript" charset="utf-8" src="http://static.bshare.cn/b/bshareC0.js"></script></div>
			</div>
		</div>
	</footer>
	</div>

	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<script type="text/javascript">
	//显示留言板
	function words_block(){
		$("#Modal").modal("show");
	}
	//提交留言
	function submmit_words(){
		var words_mess = $("#message").val();
		$("#send_word").attr("disabled", true);
		if(words_mess==null || words_mess==""){
			$("#send_word").attr("disabled", false);
			layer.msg('请填写留言后在提交', function(){});
			return false;
		}
		$.ajax({
			type : "post",
			url : "/words_mess",
			data : {"words_mess":words_mess},
			cache: false,
			async: false,
			error: function(request) {
				layer.msg('留言失败', function(){});
				$("#send_word").attr("disabled", false);
            },
            success: function(data) {
                if(data == "success"){
                	layer.msg('留言成功');
                	$("#send_word").attr("disabled", false);
                	$("#Modal").modal("hide");
                }
            }
		});
	}
	
	function loginOut(){
		layer.msg('确定要退出么？', {
			  time: 0 //不自动关闭
			  ,btn: ['咋的，有意见？', '你说退就退啊！']
			  ,yes: function(index){
			    layer.close(index);
			    window.location.href = "loginOut";
			  }
			});
	}
	
	
	function go_page(page){
		if(page==1){
    		window.location.reload();
    	}else if(page>1){
    		$("#page_"+page).attr("style","margin-right: 5px;color:blue");
			$.ajax({
				type : "post",
				url : "/go_page",
				data : {"page":page},
				dataType : "json",
				cache: false,
				async: false,
	            success: function(data) {
	            	$("#gtco-post-list li").remove();
	            	var html = "";
	           		for(var a = 0;a<data.length;a++){
	           			html += "<li class='entry' data-animate-effect='fadeIn'>"
	            			+"<a href='single.html?id="+data[a].id+"'><div class='entry-desc'>"
							+"<h3>"+data[a].title+"</h3>"
							+"<p>"+data[a].lead+"</p>"
							+"</div></a><div class='post-meta'>"
							+"<span class='date-posted'>"+data[a].create_user+"</span>"
							+"<span class='date-posted'>"+data[a].create_time+"</span>"
							+"<span class='date-posted' style='float:right'>点击查看全文</span>"
							+"</div></li>";
	           		}
	           			var allPage=[[${session.allPage}]];
	           			if(page+1<=Math.ceil(allPage/6)){
			            	$("#go_next_page").attr("onclick","go_page("+(page+1)+")")
	           			}
		            	$('#gtco-post-list').append(html);
		            	//根据点击页数动态调整当前第一页
// 		            	if(page>6){
// 	            		    $("#go_any_page").empty();
// 		            		var html = "<a href='javascript:scroll(0,0);' style='margin-right: 5px;' onclick='go_page(1)'>首页</a>";
// 		                	var newFirstPage = page-6;
// 		                	var lastPage = newFirstPage+9;
// 		            		for(var a=newFirstPage;a<Math.ceil(allPage/6);a++){
// 		                		if(a==0){
// 		                			html+="<a href='javascript:scroll(0,0);' id='page_"+(a+1)+"' style='margin-right: 5px;color:blue' onclick='go_page("+(a+1)+")'>"+(a+1)+"</a>";
// 		                		}else if(a>lastPage){
// 		                			html+="<a style='margin-right: 5px;color:blue'>...</a>";
// 		                			break;
// 		                		}else{
// 		    	            		html+="<a href='javascript:scroll(0,0);' id='page_"+(a+1)+"' style='margin-right: 5px;' onclick='go_page("+(a+1)+")'>"+(a+1)+"</a>";
// 		                		}
// 		                	}
// 		                	$("#go_any_page").append(html);
// 		            	}
	            }
			});
    	}
	}
	
	//更换每次下一页对应的页码
// 	function get_newPage(){
// 		var nowPage=[[${session.nowPage}]];
// 		return nowPage;
// 	}
	
	function go_to_page(){
		var page = $("#goto_page").val();
		scrollTo(0,0);
		go_page(page);
	}
	
	//默认加载初始的第一页的页码
	$(function(){
		scrollTo(0,0);
		$.ajax({
			type : "post",
			url : "/pageNum",
			dataType : "json",
			cache: false,
			async: false,
            success: function(data) {
            	var html = "<a href='javascript:scroll(0,0);' style='margin-right: 5px;' onclick='go_page(1)'>首页</a>";
            	for(var a=0;a<Math.ceil(data/6);a++){
            		if(a==0){
            			html+="<a href='javascript:scroll(0,0);' id='page_"+(a+1)+"' style='margin-right: 5px;color:blue' onclick='go_page("+(a+1)+")'>"+(a+1)+"</a>";
            		}else if(a>8){
            			html+="<a style='margin-right: 5px;color:blue'>...</a>";
            			break;
            		}else{
	            		html+="<a href='javascript:scroll(0,0);' id='page_"+(a+1)+"' style='margin-right: 5px;' onclick='go_page("+(a+1)+")'>"+(a+1)+"</a>";
            		}
            	}
            	html+="<a href='javascript:scroll(0,0);' style='margin-right: 5px;' onclick='go_page("+Math.ceil(data/6)+")'>尾页</a>";
            	html+="<a href='javascript:scroll(0,0);' id='go_next_page' onclick='go_page(2)'>下一页</a>";
            	html+="&nbsp&nbsp&nbsp跳转第<input type='text' style='margin-right: 5px;margin-left: 5px;width: 30px;' id='goto_page'>页";
            	html+="<input type='button' style='margin-left: 5px;' onclick='go_to_page()' value='跳转'>";
            	$("#go_any_page").append(html);
            }
		})
	})
	
	//进入其他人主页的方法
	function go_people(id){
		window.location.href="/myworld?modify=no&articleId="+id;
	}
	</script>
	</body>
</html>

