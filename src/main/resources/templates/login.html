<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<head>
	<title>登陆</title>
<link rel="shortcut icon" href="images/logo.ico" />
<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
<style type="text/css">
	.navbar-inverse 
	{
	    height: 80px;
	    border-color: white;
	}
	.navbar-inverse .navbar-nav > li > a 
	{
	    color: white;
	}
	.navbar-inverse .navbar-brand 
	{
	    color: white;
	}
	.navbar-inverse .navbar-nav > .open > a, .navbar-inverse .navbar-nav > .open > a:hover, .navbar-inverse .navbar-nav > .open > a:focus 
	{
	    color: #fff;
	    background-color: #08080800;
	}
	.loginstyle
	{
	    height: 353px;
		overflow: hidden;
		zoom: 1;
		background: rgba(0,0,0,0.25);
	}
	.col-sm-10 
	{
	    margin-top: 10px;
	}
	.btn 
	{
	    margin-left:10px;
    }
	.btn-default
	{
	    background-color: rgba(255, 255, 255, 0.58);
	}
	.form-control
	{
		width:38%;
	    height: 36px;
	    display: inline-block;
    	background-color: rgba(255, 255, 255, 0.01);
   	    color: #fcf8e3;
    	margin-left:10px;
	}
	#foot
	{
		float: right;
	    margin-top: 52px;
   		margin-right: 34px;
	}
	#mainbody
	{
		margin-top:180px;
	}
	.footer
	{
		color:black;
		clear: both;
		/* background-color:#00000099; */
		position:absolute;
		width: 100%;
		bottom:0;
	}
	#head_1
	{
	    width: 100%;	
	}
	#login_register
	{
		float:right;
	    margin-top: 23px;
	}
	.nav-tabs > li > a
	{
		color:#fff;
	}
	.nav-tabs > li > a:hover
	{
		color:#555;
	}
	#logo_text
	{
		font-size: 20px; 
	}
	@media screen and (max-width: 768px)
	{
		#bs-example-navbar-collapse-1
		{
			background: #000;
    		float: right;
		}
		.navbar-header
		{
			padding-top: 15px;
		}
		.navbar-inverse 
		{
		    height: 100px;
		}
		.navbar-inverse .navbar-toggle 
		{
		    border-color: #3330;
		}
		#head_1
		{
		    width: 110%;	
		}
		#login_register
		{
			float:right;
		    margin-top: 28px;
		}
		#login_btn
		{
			margin-left: 74px;
			width: 38%;
		}
		.form-group
		{
			padding-bottom: 10px;
		}
		#logo_text
		{
			font-size: 16px; 
		}
	}
</style>
</head>
<body style="overflow: hidden;">

<!--ͷ??-->
<nav class="navbar navbar-inverse navbar-fixed-top" style="background-color: rgba(0,0,0,0);">
	<div class="container" style="padding-top: 15px;">
		  <div class="container-fluid">
			    <div class="navbar-header" id="head_1">
				       <!-- Nav tabs -->
				      <div id="login_register">
						  <ul class="nav nav-tabs" role="tablist">
							    <li role="presentation" class="active">
							    	<a href="#home" aria-controls="home" role="tab" data-toggle="tab">登陆</a>
							    </li>
							    <li role="presentation">
							    	<a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">注册</a>
						    	</li>
						  </ul>
					  </div>
			      	<a class="navbar-brand" href="index.html" id="speak"><img id="img_logo" src="images/logo.ico" style="height: 20px;width: 20px;float: left;position: initial;"/><span style="font-size: 20px;font-family: cursive;margin-left: -8px;" id='logo_text'>&nbsp大花博客<span style="color: red;">.</span></span></a>
			    </div>
		  </div><!-- /.container-fluid -->
	</div>
</nav>
 <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="home">
		<div style="background-image:url(images/image_8.jpg);position: absolute;bottom: 0;top: 0;left: 0;right: 0;background-size: cover;">
		</div>
		<div style="margin-top: 230px;">
			<div class="container-fluid">
			    <div class="row">
				  	<div class="col-xs-0 col-md-5"></div>
				    <div class="col-xs-12 col-md-7">
						<div>
							<form id="form_user1" class="form-inline" style="color: #ffffffc4;">
							  <div class="form-group">
								    <label for="exampleInputName2" style="width: 60px;padding-left: 10px">Uname:</label>
								    <input type="text" class="form-control" id="username1" name="username" onkeydown="key_login()" placeholder="请输入用戶名">
							  </div>
							  <div class="form-group">
							    <label for="exampleInputEmail2" style="width: 60px;padding-left: 10px;">Pword:</label>
							    <input type="password" class="form-control" id="password1" name="password" onkeydown="key_login()" placeholder="请输入密碼">
							  </div>
							  <button type="button" class="btn btn-primary" id="login_btn" onclick="userlogin()">登陆</button>
							</form>
				        </div>
				    </div>
			    </div>
			</div>
		</div>	
    </div>
    <div role="tabpanel" class="tab-pane" id="profile">
		<div style="background-image:url(images/image_6.jpg);position: absolute;bottom: 0;top: 0;left: 0;right: 0;background-size: cover;">
		</div>
		<div class="row">
			<div class="col-md-2"></div>
			<div class="col-md-8 text-center">
				<div class="row">
					<div class="col-md-3"></div>
					<div id="mainbody" class="col-md-7">
						<div class="loginstyle">
							<div style="border-bottom: 1px solid #8a6d3b;">
								<h2
									style="text-align: center; color: rgba(255, 255, 255, 0.82);">请您注册</h2>
							</div>
							<div id="user_form">
								<form id="form_user" class="form-group">
									<div class="form-group">
										<div class="col-sm-12" style="margin-top: 20px;">
											<input type="text" class="form-control" id="nickname"
												name="nickname" placeholder="注册昵称"> <input
												type="text" class="form-control" id="username"
												name="username" placeholder="注册帐号">
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-12" style="margin-top: 25px;">
											<input type="password" class="form-control" id="password"
												name="password" placeholder="注册密碼"> <input
												type="password" class="form-control" id="password_once"
												placeholder="重复密碼">
										</div>
									</div>
									<div class="form-group">
										<div class="col-sm-12" style="margin-top: 25px;">
											<input type="text" class="form-control" id="realname"
												name="realname" placeholder="真实姓名">
											<button id="registerBtn" type="button"
												class="btn btn-primary" style="width: 38%;"
												onclick="userAdd()">注册</button>
										</div>
									</div>
								</form>
							</div>
							<div id="foot">
								<a href="/index">返回首页</a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp <a
									href="login.html">返回登录</a>
							</div>
						</div>
					</div>
					<div class="col-md-2"></div>
				</div>
				<div class="col-md-2"></div>
				<div style="clear: both;"></div>
			</div>
		</div>
    </div>
</div>
<div class='footer'>
	<div style="text-align: center;padding-top: 20px;padding-bottom: 10px;">
		<p><small class="block">&copy; September 1 2017. 黑 ICP 备 18000243 号 - All Rights Reserved</small></p>
	</div>
</div>




		
</body>
<script type="text/javascript" src="js/jquery-3.3.1.js"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript" src="js/npm.js"></script>
<script type="text/javascript" src="layer/layer.js"></script>
<script>
	window.onload=function(){
		var winHeight = $(document).height();
		$("#gtco-header").css("height",winHeight-77);
	    if('alLogin' == '[[${session.user_Login}]]'){
	    	window.location.href = "index.html";
	    }
	} 
	
	function userlogin(){
		$.ajax({
			type : "post",
			url : "/login",
			data : $("#form_user1").serialize(),
			cache: false,
			async: false,
			error: function(request) {
				layer.msg('登陆失败', function(){});
            },
            success: function(data) {
                if(data == "error"){
                	layer.msg('用户名或密码输入错误', function(){});
                }else if(data == "success"){
                	window.location.href = "index.html";
                }
            }
		});
	}
	
	function key_login(){
		if(event.keyCode==13){
			userlogin();
		}
	}

	window.onload=function(){  
		var winHeight = $(document).height();
		$("#gtco-header").css("height",winHeight-77);
	    if('alLogin' == '[[${session.user_Login}]]'){
	    	window.location.href = "/index";
	    }
	} 
	function userAdd(){
		if(nickname=="" || nickname==null || username=="" || username==null || password=="" || password==null || password_once=="" || password_once==null || realname=="" || realname==null){
			layer.msg('请全部填写后提交', function(){});
				return false;
		}
		 if($("#password_once").val() != $("#password").val()){
			 layer.msg('两次密码输入不一致', function(){});
					return false;
		 }
		 if($("#username").val().length<6){
			 layer.msg('用户名输入过短，请重新填写密码', function(){});
					return false;
		 }
		 if($("#password").val().length<6){
			 layer.msg('密码输入过短，请重新填写密码', function(){});
					return false;
		 }
		$.ajax({
			type : "post",
			url : "/userAdd",
			data : $("#form_user").serialize(),
			cache: false,
			async: false,
			error: function(request) {
				layer.msg('注册失败');
            },
            success: function(data) {
                if(data == "error"){
                	layer.msg('注册失败', function(){});
                }else if(data == "success"){
                	layer.msg('注册成功,正在为您跳转')
               		window.location.href = "/index";
                }else if(data == "NickNamealReguster"){
                	layer.msg('昵称注册重复', function(){});
                		return false;
                }else if(data == "alReguster"){
                	layer.msg('用户名注册重复', function(){});
            		return false;
            }
            }
		});
	}
</script>
</html>